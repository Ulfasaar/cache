// Generated by Haxe 3.4.4
(function () { "use strict";
var cache_Cache = function(refresh) {
	this.isInit = true;
	this._refresh = refresh;
};
cache_Cache.prototype = {
	get: function() {
		if(this.isInit) {
			this.data = this._refresh();
			this.isInit = false;
		}
		return this.data;
	}
	,refresh: function() {
		this.data = this._refresh();
	}
};
var cache_HybridCache = function(timeout_ms,refresh,get_version) {
	this.hasElapsed = false;
	this.isInit = true;
	this.timeout = timeout_ms;
	this.current_time = new Date().getTime();
	this.prev_time = this.current_time;
	this.diff_time = this.current_time - this.prev_time;
	this._refresh = refresh;
	this.get_version = get_version;
};
cache_HybridCache.prototype = {
	version: function() {
		return this.current_version;
	}
	,get: function() {
		if(this.isInit == false) {
			if(this.timeout != -1) {
				this.current_time = new Date().getTime();
				this.diff_time = this.current_time - this.prev_time;
				if(this.diff_time >= this.timeout) {
					var external_version = this.get_version();
					if(this.current_version < external_version) {
						this._refresh();
						this.current_version = external_version;
					}
					this.prev_time = this.current_time;
				}
			}
		} else {
			this._refresh();
			this.isInit = false;
		}
		return this.data;
	}
	,refresh: function() {
		this.data = this._refresh();
	}
};
var cache_TimeoutCache = function(timeout_ms,refresh,empty) {
	this.hasElapsed = false;
	this.isInit = true;
	this.timeout = timeout_ms;
	this.current_time = new Date().getTime();
	this.prev_time = this.current_time;
	this.diff_time = this.current_time - this.prev_time;
	this._refresh = refresh;
	this._empty = empty;
};
cache_TimeoutCache.prototype = {
	get: function() {
		if(this.isInit == false) {
			if(this.timeout != -1) {
				this.current_time = new Date().getTime();
				this.diff_time = this.current_time - this.prev_time;
				if(this.diff_time >= this.timeout) {
					this.data = this._refresh();
					this.prev_time = this.current_time;
				}
			}
		} else {
			this.data = this._refresh();
			this.isInit = false;
		}
		return this.data;
	}
	,refresh: function() {
		this.data = this._refresh();
	}
	,empty: function() {
		this.data = this._empty();
	}
};
var cache_VersionedCache = function(refresh,get_version) {
	this.current_version = 0.0;
	this.isInit = true;
	this._refresh = refresh;
	this.current_version = get_version();
};
cache_VersionedCache.prototype = {
	version: function() {
		return this.current_version;
	}
	,get: function() {
		if(this.isInit) {
			this.data = this._refresh();
			this.isInit = false;
		} else {
			var external_version = this.get_version();
			if(this.current_version < external_version) {
				this._refresh();
				this.current_version = external_version;
			}
		}
		return this.data;
	}
	,refresh: function() {
		this.data = this._refresh();
	}
};
})();
